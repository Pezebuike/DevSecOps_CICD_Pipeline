name: Sonar Scan

on:
    workflow_call:
        # inputs:
        # workflow_id:
        #     - "Build"
        # action_id:
        #     - "sonar"

jobs:
    sonar:
        runs-on: java-build
        # needs: Build # Ensure Sonar runs after Build
        steps:
            - name: SonarCloud Scan
              run: |
                mvn sonar:sonar 
                -Dsonar.projectKey=ankit20000_DevSecops_Pipeline 
                -Dsonar.organization=ankit20000 
                -Dsonar.host.url=https://sonarcloud.io 
                -Dsonar.login=3efd906389f89ff2f42493c5bda21481a0a75a68